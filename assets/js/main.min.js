"use strict";function get_siblings(t){var r=[];if(t.parentNode){let e=t.parentNode.firstChild;for(;e;)1===e.nodeType&&e!==t&&r.push(e),e=e.nextSibling}return r}function slideDown(e){e.style.height=e.scrollHeight+"px"}function slideToggle(e){0===e.offsetHeight?e.style.height=e.scrollHeight+"px":e.style.height=0}function setHeaderScrollClass(){const e=document.querySelector(".header");window.addEventListener("scroll",function(){window.scrollY>=e.offsetHeight?e.classList.add("scroll"):e.classList.remove("scroll")})}function setTelMask(){[].forEach.call(document.querySelectorAll('[type="tel"]'),function(e){let a;function t(e){e.keyCode&&(a=e.keyCode),this.selectionStart<3&&e.preventDefault();let t="+7 (___) ___-__-__",r=0,s=t.replace(/\D/g,""),n=this.value.replace(/\D/g,""),o=t.replace(/[_\d]/g,function(e){return r<n.length?n.charAt(r++)||s.charAt(r):e});-1!=(r=o.indexOf("_"))&&(r<5&&(r=3),o=o.slice(0,r));var i=t.substr(0,this.value.length).replace(/_+/g,function(e){return"\\d{1,"+e.length+"}"}).replace(/[+()]/g,"\\$&");(!(i=new RegExp("^"+i+"$")).test(this.value)||this.value.length<5||47<a&&a<58)&&(this.value=o),"blur"==e.type&&this.value.length<5&&(this.value="")}e.addEventListener("input",t,!1),e.addEventListener("focus",t,!1),e.addEventListener("blur",t,!1),e.addEventListener("keydown",t,!1)})}function sendForm(){document.querySelectorAll("form[name]").forEach(function(e){e.addEventListener("submit",function(e){e.preventDefault();const t=this;let r=new FormData(t);var e=t.name,s=t.querySelector("input[type=file]");r.append("action","send_mail"),e&&(r.append("form_name",e),s&&Array.from(s.files).forEach((e,t)=>{r.append(t.toString(),e)}),fetch(adem_ajax.url,{method:"POST",body:r}).then(e=>e.text()).then(e=>{Fancybox.close(!0),t.reset(),setTimeout(function(){Fancybox.show([{src:"#application",type:"inline"}])},100)}).catch(e=>{console.error("Error:",e)}))})})}function setFileName(){var e=document.querySelectorAll(".js-file-input");e&&e.forEach(function(e){var t=e.parentNode,r=e.querySelector("input[type=file]");let s=e.querySelector("label");r.addEventListener("change",function(){s.textContent=this.files[0].name}),t.addEventListener("reset",function(){s.textContent="Обзор"})})}function tabs(){var e=document.querySelectorAll(".js-tabs");e&&e.forEach(function(e){var r;(r=e).addEventListener("click",function(e){var t=e.target.closest("li");t.classList.contains("active")&&t.parentNode.classList.toggle("open"),t.classList.contains("active")||e.target===r||(e=t,t=document.querySelector("#"+e.getAttribute("data-tab")),e.classList.add("active"),get_siblings(e).forEach(function(e){e.classList.remove("active")}),t.classList.add("active"),get_siblings(t).forEach(function(e){e.classList.remove("active")}),e.parentNode.classList.remove("open"))})})}function showMorePosts(){var e=document.querySelector(".js-show-more");e&&e.addEventListener("click",function(e){e.stopImmediatePropagation();const t=document.querySelector(".js-show-more-container");this.textContent="Загрузка...";fetch(adem_ajax.url,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"},body:new URLSearchParams({action:"load_more",query:posts,page:current_page})}).then(e=>e.text()).then(e=>{this.innerHTML=this.dataset.text,t.insertAdjacentHTML("beforeend",e),++current_page===max_pages&&this.remove()}).catch(e=>{console.error("Error:",e)})})}document.addEventListener("DOMContentLoaded",function(){setHeaderScrollClass(),setFileName(),sendForm(),setTelMask(),tabs(),showMorePosts()});try{Fancybox.bind("[data-fancybox]",{animated:!1})}catch(e){console.log(e)}const worksCarousel=document.querySelector(".works-slider__container");if(worksCarousel){let e=new Swiper(worksCarousel,{navigation:{nextEl:".works-slider__next",prevEl:".works-slider__prev"},breakpoints:{992:{slidesPerView:3,centeredSlides:!1,loop:!0,autoHeight:!1},769:{slidesPerView:2,centeredSlides:!1,autoHeight:!1},577:{centeredSlides:!1,autoHeight:!1}},slidesPerView:"auto",centeredSlides:!0,spaceBetween:25,loop:!1,autoHeight:!0})}const projectCarousel=document.querySelector(".project__gallery");if(projectCarousel&&577<=window.innerWidth){let e=new Swiper(projectCarousel,{navigation:{nextEl:projectCarousel.parentNode.querySelector(".project__gallery-next"),prevEl:projectCarousel.parentNode.querySelector(".project__gallery-prev")},breakpoints:{1280:{slidesPerView:7},992:{slidesPerView:5},769:{slidesPerView:4},577:{slidesPerView:3}},spaceBetween:8})}const reviewsCarousel=document.querySelector(".reviews-slider__container");if(reviewsCarousel){let e=new Swiper(reviewsCarousel,{navigation:{nextEl:".reviews-slider__next",prevEl:".reviews-slider__prev"},breakpoints:{769:{slidesPerView:2,autoHeight:!1,spaceBetween:25},577:{slidesPerView:1,spaceBetween:25}},slidesPerView:"auto",spaceBetween:10,autoHeight:!0,grabCursor:!0})}document.addEventListener("DOMContentLoaded",function(e){const s=document.querySelector(".header");if(s){var n=s.querySelectorAll(".header__burger");const i=document.querySelector(".drop");var o=i.querySelector(".drop__cross");let r=()=>{s.querySelector(".header__burger.active").classList.remove("active"),i.classList.remove("active"),document.body.style.overflow="visible"},t=(n.forEach(e=>{e.addEventListener("click",function(){this.classList.contains("active")?r():(this.classList.add("active"),i.classList.add("active"),document.body.style.overflow="hidden",t(this))})}),t=>{document.addEventListener("mousedown",e=>{!i.contains(e.target)&&i.classList.contains("active")&&e.target!=t&&r()})});o.onclick=()=>{r()}}});const calcRanges=document.querySelectorAll(".range"),accordions=(calcRanges&&calcRanges.forEach(e=>{var t=e.parentNode.parentNode;let r=e.querySelector(".range-slider"),s=e.querySelector(".range-select"),n=e.querySelector(".range-thumb"),o=e.querySelector(".range-value"),i=e.querySelector(".range-bar");o.innerHTML=r.value,t.addEventListener("reset",function(e){e.preventDefault()}),r.oninput=function(){o.innerHTML=this.value;var e=n.offsetWidth/2,e=(this.value-this.min)/(this.max-this.min)*(r.offsetWidth-e-e)+e;s.style.left=e+"px",i.style.width=e+"px"}}),document.querySelectorAll(".faq__item")),accodrionBtns=document.querySelectorAll(".js-faq-accordion");if(accordions){const Ba=()=>{for(var e of accordions){var t=e.querySelector(".js-faq-accordion");e.querySelector(".faq__answer").style.maxHeight=null,t.classList.remove("active")}};accodrionBtns.forEach(e=>{e.addEventListener("click",()=>{e.classList.contains("active")?Ba():(Ba(),e.classList.add("active"),e.nextElementSibling.style.maxHeight=e.nextElementSibling.scrollHeight+"px")})})}const services=document.querySelector(".services");if(services){let e=services.querySelectorAll(".services__accordion"),r=services.querySelectorAll(".services__item"),t=function(){for(var e of r){var t=e.querySelector(".services__accordion");e.classList.remove("active"),t.classList.remove("active"),s(t)}},s=function(e){e.classList.contains("active")?e.textContent="Свернуть":e.textContent="Об услуге"};e.forEach(e=>{e.addEventListener("click",function(){this.classList.contains("active")?(t(),s(this)):(t(),this.classList.add("active"),this.parentNode.classList.add("active"),s(this),this.parentNode.scrollIntoView({behavior:"smooth",block:"center"}))})})}